<div class="login-container">
  <div class="background-animation">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <div class="login-card">
    <mat-card class="card">
      <mat-card-header class="card-header">
        <div class="logo">
          <mat-icon class="logo-icon">work</mat-icon>
          <h1>PortfolioATS</h1>
        </div>
        <p class="subtitle">Gerencie seu portfólio profissional</p>
      </mat-card-header>

      <mat-card-content>
        <mat-tab-group (selectedTabChange)="onTabChange($event)" [selectedIndex]="selectedTab" animationDuration="500ms">
          
          <!-- Tab Login -->
          <mat-tab label="Login">
            <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="form">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>E-mail</mat-label>
                <input matInput formControlName="email" type="email" placeholder="seu@email.com">
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="loginForm.get('email')?.hasError('required')">
                  E-mail é obrigatório
                </mat-error>
                <mat-error *ngIf="loginForm.get('email')?.hasError('email')">
                  E-mail inválido
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Senha</mat-label>
                <input matInput formControlName="password" type="password" placeholder="Sua senha">
                <mat-icon matSuffix>lock</mat-icon>
                <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
                  Senha é obrigatória
                </mat-error>
                <mat-error *ngIf="loginForm.get('password')?.hasError('minlength')">
                  Mínimo 6 caracteres
                </mat-error>
              </mat-form-field>

              <button 
                mat-raised-button 
                color="primary" 
                type="submit" 
                class="submit-button"
                [disabled]="!loginForm.valid || loading">
                <mat-icon>login</mat-icon>
                <span>{{ loading ? 'Entrando...' : 'Entrar' }}</span>
              </button>
            </form>
          </mat-tab>

          <!-- Tab Registro -->
          <mat-tab label="Registro">
            <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="form">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nome Completo</mat-label>
                <input matInput formControlName="fullName" placeholder="Seu nome completo">
                <mat-icon matSuffix>person</mat-icon>
                <mat-error *ngIf="registerForm.get('fullName')?.hasError('required')">
                  Nome é obrigatório
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>E-mail</mat-label>
                <input matInput formControlName="email" type="email" placeholder="seu@email.com">
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                  E-mail é obrigatório
                </mat-error>
                <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                  E-mail inválido
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Senha</mat-label>
                <input matInput formControlName="password" type="password" placeholder="Mínimo 6 caracteres">
                <mat-icon matSuffix>lock</mat-icon>
                <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                  Senha é obrigatória
                </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                  Mínimo 6 caracteres
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Confirmar Senha</mat-label>
                <input matInput formControlName="confirmPassword" type="password" placeholder="Confirme sua senha">
                <mat-icon matSuffix>lock_reset</mat-icon>
                <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
                  Confirmação é obrigatória
                </mat-error>
                <mat-error *ngIf="registerForm.hasError('mismatch')">
                  Senhas não coincidem
                </mat-error>
              </mat-form-field>

              <button 
                mat-raised-button 
                color="accent" 
                type="submit" 
                class="submit-button"
                [disabled]="!registerForm.valid || loading">
                <mat-icon>person_add</mat-icon>
                <span>{{ loading ? 'Cadastrando...' : 'Cadastrar' }}</span>
              </button>
            </form>
          </mat-tab>

        </mat-tab-group>
      </mat-card-content>
    </mat-card>
  </div>
</div>